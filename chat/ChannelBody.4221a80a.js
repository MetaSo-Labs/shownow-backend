var L=(j,X,z)=>new Promise((G,O)=>{var Y=C=>{try{D(z.next(C))}catch(E){O(E)}},H=C=>{try{D(z.throw(C))}catch(E){O(E)}},D=C=>C.done?G(C.value):Promise.resolve(C.value).then(Y,H);D((z=z.apply(j,X)).next())});import{d as R,o as r,c as d,a as t,b as i,U as ze,t as P,dh as kt,bi as Ke,d4 as bt,i as oe,bw as wt,j as f,h as ie,cH as _t,cx as Ct,fg as It,cy as ee,M as S,g as ce,cG as Tt,u as s,m as l,e as Pt,v as U,Z as de,S as St,bo as $t,V,w as $,Y as te,F as ue,fm as jt,fn as Mt,dy as At,dz as qt,bg as ae,cC as Re,fT as Bt,fU as Ft,fV as zt,fW as Kt,fX as Rt,fY as Ut,cb as Dt,_ as Ue,q as Et,x as De,cF as Lt,fi as Ee,fy as Vt,fr as Ot,aI as Qt,fZ as Wt,s as Xt,f_ as Gt,p as Yt,n as Ht,__tla as Jt}from"./index.6023e910.js";import{S as Nt,__tla as Zt}from"./Sticker.d24f5d55.js";import{j as ea,__tla as ta}from"./index.244a603e.js";import{B as aa,H as la,P as ra,__tla as sa}from"./popover.b7fbaa30.js";let Le,pe,na=Promise.all([(()=>{try{return Jt}catch(j){}})(),(()=>{try{return Zt}catch(j){}})(),(()=>{try{return ta}catch(j){}})(),(()=>{try{return sa}catch(j){}})()]).then(()=>L(void 0,null,function*(){let j,X,z,G,O,Y,H,D,C,E,ve,me,ye,fe,ge,he,xe,ke,be,we,_e,Ce,Ie,Te,Pe,Se,$e,je;j={class:"relative h-full w-full flex items-center justify-center"},X={class:"mt-2"},pe=R({__name:"ImagePreview",props:{src:{default:""},isPrivateChat:{type:Boolean,default:!1},chatPubkeyForDecrypt:{default:""}},setup(c){const n=c,g=()=>{const u=kt(n.src,-1);window.open(u,"_blank")};return(u,v)=>{const h=Ke,M=bt;return r(),d("div",{class:"fixed inset-0 bg-black/80 fullscreen w-screen z-[60]",onClick:v[2]||(v[2]=_=>u.$emit("close"))},[t("div",j,[t("div",{class:"text-white absolute right-[16PX] top-[16PX]",onClick:v[0]||(v[0]=_=>u.$emit("close"))},[i(h,{name:"x_circle",class:"w-10 h-10 text-dark-300 hover:text-dark-100 cursor-pointer"})]),t("div",{class:"!w-[90%] !max-h-[80%] overflow-y-auto pr-3 -mr-3 lg:!w-[480PX]",onClick:v[1]||(v[1]=ze(()=>{},["stop"]))},[i(M,{src:c.src,class:"h-3/5 flex items-center",customClass:"w-full rounded-md object-scale-down",width:-1,isPrivateChat:c.isPrivateChat,chatPubkeyForDecrypt:c.chatPubkeyForDecrypt},null,8,["src","isPrivateChat","chatPubkeyForDecrypt"]),t("div",X,[t("span",{class:"text-white text-sm opacity-50 lg:hover:opacity-100 lg:hover:underline lg:cursor-pointer",onClick:g},P(u.$t("Talk.Channel.view_original")),1)])])])])}}}),z={key:0,class:"bg-white dark:bg-gray-700 rounded-lg"},G={key:0,class:"quote flex flex-align-center rounded-lg"},O={class:"flex1 flex flex-align-center"},Y={key:1,class:"border-b-2 border-solid border-dark-200 dark:border-gray-600 pb-2 px-3 pt-3"},H={class:"p-2 w-50 h-50 main-border still relative"},D={class:"absolute right-0 top-0 z-10 -my-2 -mx-3 flex space-x-2.5 items-center"},C={class:""},E={key:1,class:"w-3.5 h-3.5 bg-gray-100 dark:bg-gray-950 rounded shadow-inner shadow-gray-200 dark:shadow-gray-950"},ve=["src"],me={class:"self-stretch lg:ml-2 py-2 pl-3 flex items-center grow"},ye=["rows","placeholder"],fe={class:"flex h-full py-1 items-center shrink-0"},ge={class:"p-2 w-9 h-9 transition-all lg:hover:animate-wiggle cursor-pointer"},he={class:"bg-white dark:bg-gray-700 p-2 rounded-xl shadow-lg w-60 divide-y divide-dark-200 dark:divide-gray-600"},xe=["onClick"],ke={class:"cursor-pointer"},be={class:""},we={class:"p-1 w-9 h-9 transition-all lg:hover:animate-wiggle cursor-pointer"},_e={key:0,class:V(["lg:hidden transition-all ease-in-out duration-500"])},Ce={class:"text-primary scale-110 -rotate-6"},Ie={key:1,class:"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-3 text-sm text-dark-250 dark:text-gray-500 cursor-not-allowed truncate"},Te={class:"px-2 py-2"},Pe={class:"text-lg text-center font-medium text-gray-900 dark:text-gray-100"},Se={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},$e={class:"px-2 pb-2"},je=R({__name:"TheInput",props:{quote:null},emits:["update:quote","toQuote","scrollToBottom"],setup(c,{emit:n}){const g=c,u=oe();wt(),f(!1);const v=f(!1),h=f(!1),M=f(!1),_=ie();_t();const p=Ct(),x=It(),e=ee(),I=S(()=>k.value.length>0);S(()=>!(window.innerWidth<=1024)||!I.value);const le=f(null),K=f(null),J=f(!1),N=f(!0),dt=S(()=>K.value!==null);S(()=>e.activeChannel);const ut=o=>{var a;(a=le.value)==null||a.click(),o()},pt=()=>{h.value=!0},Ae=o=>{h.value=!1,_.selectedRedPacketType=o,_.isShowRedPacketModal=!0},qe=()=>{h.value=!1},vt=o=>{var T;const a=(T=o.target.files)==null?void 0:T[0];if(a){if(!jt(a)){x.$patch({error:{type:"image_only",message:"image_only",timestamp:Date.now()}});return}if(Mt(a)){x.$patch({error:{type:"image_too_large",message:"image_too_large",timestamp:Date.now()}});return}K.value=a}},Be=()=>{K.value=null,le.value.value=""},re=S(()=>K.value?URL.createObjectURL(K.value):""),mt=()=>L(this,null,function*(){var q,B,m,F,Q,W;n("scrollToBottom");let o=K.value;N.value&&(o=yield At(K.value));const a=[yield qt(o)];if(((q=e.activeChannel)==null?void 0:q.type)=="private"){if(!((B=e.activeChannel)!=null&&B.publicKeyStr))return ae.error(`${u.t("get_ecdh_pubey_error")}`);let b=p.getEcdh((m=e.activeChannel)==null?void 0:m.publicKeyStr);b||(b=yield Re(e.activeChannel.publicKeyStr),p.insert(b,b==null?void 0:b.externalPubKey));const Z=b==null?void 0:b.sharedSecret;a[0].data=Bt(a[0].data,Z)}const T=re.value;Be();const y={type:Ft.Image,channelId:e.activeChannelId,groupId:((F=e.activeChannel)==null?void 0:F.type)=="private"?"":e.activeChannelId||"",userName:(Q=yt.last)==null?void 0:Q.name,attachments:a,content:"",originalFileUrl:T,channelType:(W=e.activeChannel)==null?void 0:W.type,reply:g.quote};n("update:quote",void 0),yield zt(y)}),k=f(""),yt=ce();Tt();const A=f(!1),ft=f(null),se=f(!1),gt=()=>{se.value=!0},ht=()=>{se.value=!1},xt=o=>{o.key==="Enter"&&!o.shiftKey&&!se.value&&(o.preventDefault(),Fe())},ne=S(()=>{if(A.value)return 1;const o=k.value.split(`
`).reduce((a,T)=>a+1,0);return Math.min(Math.max(o,1),10)}),Fe=o=>L(this,null,function*(){var T,y,q,B;if(A.value=!0,k.value=k.value.trim(),!Kt(k.value)){A.value=!1;return}if(M.value){A.value=!1;return}n("scrollToBottom");let a="";if(((T=e.activeChannel)==null?void 0:T.type)==="group"||((y=e.activeChannel)==null?void 0:y.type)==="sub-group")a=Rt(k.value,e.activeChannel.id.substring(0,16));else{if(!((q=e.activeChannel)!=null&&q.publicKeyStr))return A.value=!1,ae.error(`${u.t("get_ecdh_pubey_error")}`);let m=p.getEcdh((B=e.activeChannel)==null?void 0:B.publicKeyStr);m||(m=yield Re(e.activeChannel.publicKeyStr),m&&p.insert(m,m==null?void 0:m.externalPubKey));const F=m==null?void 0:m.sharedSecret;if(!F)return A.value=!1,ae.error("Failed to generate shared secret");a=Ut(k.value,F)}if(k.value="",!e.activeChannel){A.value=!1;return}try{yield e.sendMessage(e.activeChannel.id,a,0,g.quote),g.quote&&n("update:quote",void 0)}catch(m){}A.value=!1});return(o,a)=>{var q,B,m,F,Q,W,b,Z;const T=Dt,y=Ke;return r(),d(ue,null,[((q=s(e).activeChannel)==null?void 0:q.type)==="private"||((B=s(e).activeChannel)==null?void 0:B.type)==="group"||((m=s(e).activeChannel)==null?void 0:m.type)==="sub-group"?(r(),d("div",z,[l(" \u56DE\u590D/\u5F15\u7528 "),c.quote?(r(),d("div",G,[t("div",O,[Pt(P(o.$t("Talk.Quote.tips"))+" ",1),t("a",{onClick:a[0]||(a[0]=w=>n("toQuote")),class:"user"},[i(T,{name:c.quote.userInfo?c.quote.userInfo.name:c.quote.fromUserInfo.name,"meta-name":"","no-tag":!0},null,8,["name"])])]),i(y,{name:"x_circle",class:"close",onClick:a[1]||(a[1]=w=>n("update:quote",void 0))})])):l("v-if",!0),l(" \u4E0A\u4F20\u56FE\u9884\u89C8 "),s(dt)?(r(),d("div",Y,[t("div",H,[t("div",D,[l(" \u538B\u7F29\u6309\u94AE "),t("div",{class:"main-border small bg-white dark:bg-gray-700 p-1.5 cursor-pointer !rounded-lg text-xs flex items-center justify-center gap-x-1",onClick:a[2]||(a[2]=w=>N.value=!N.value)},[t("div",C,P(o.$t("Talk.Input.compress")),1),N.value?(r(),U(y,{key:0,name:"check_bold",class:"w-2.5 h-2.5 inline bg-primary rounded p-0.5 box-content"})):(r(),d("div",E))]),l(" \u5220\u9664\u6309\u94AE "),t("div",{class:"main-border small bg-white dark:bg-gray-700 p-1.5 cursor-pointer !rounded-lg",onClick:Be},[i(y,{name:"x_mark",class:"w-4 h-4 text-dark-800 dark:text-gray-100"})]),l(" \u53D1\u9001\u6309\u94AE "),t("div",{class:"main-border primary p-1.5 cursor-pointer small !rounded-lg",onClick:mt},[i(y,{name:"send",class:"w-4 h-4 text-dark-800 -rotate-6"})])]),t("img",{src:s(re),class:"w-full h-full object-scale-down cursor-zoom-in",onClick:a[3]||(a[3]=w=>J.value=!0)},null,8,ve)]),J.value?(r(),U(de,{key:0,to:"body"},[J.value?(r(),U(pe,{key:0,src:s(re),onClose:a[4]||(a[4]=w=>J.value=!1)},null,8,["src"])):l("v-if",!0)])):l("v-if",!0)])):l("v-if",!0),t("div",{class:V([s(ne)>1?"items-start":"items-center","flex h-fit"])},[l(` <Popover class="relative flex items-center" v-slot="{ open }">
        <PopoverButton
          as="button"
          class="w-14 flex items-center py-2 justify-center text-dark-800 dark:text-gray-100 outline-0"
        >
          <div
            class="bg-primary w-8 h-8 flex items-center justify-center rounded-full cursor-pointer"
          >
            <Icon
              name="plus_2"
              :class="[open && 'rotate-45', 'w-3 h-3 text-dark-800 transition duration-200']"
            />
          </div>
        </PopoverButton>

        <transition
          enter-active-class="transition duration-200 ease-out"
          enter-from-class="opacity-0"
          enter-to-class="opacity-100"
          leave-active-class="transition duration-150 ease-in"
          leave-from-class="opacity-100"
          leave-to-class="opacity-0"
        >
          <PopoverPanel
            class="absolute z-10 transform top-[-16PX] left-0 -translate-y-full"
            v-slot="{ close }"
          >
            <div
              class="bg-white dark:bg-gray-700 dark:text-gray-100 py-2 px-4 rounded-xl flex flex-col w-max justify-stretch divide-dark-100 dark:divide-gray-800 divide-y divide-solid"
            >
              <button
                class="flex py-4 outline-none hover:bg-gray-100 dark:hover:bg-gray-800 px-4 -mx-4 space-x-3 items-center"
                type="button"
                v-for="command in moreCommands()"
                :key="command.titleKey"
                @click="command.action(close)"
              >
                <Icon
                  :name="command.icon"
                  class="w-6 h-6 text-dark-800 rounded-full bg-primary box-content p-1.5 shrink-0"
                />

                <div class="flex flex-col justify-start items-start">
                  <h4 class="shrink-0 text-sm">{{ $t(command.titleKey) }}</h4>
                  <p class="text-xs text-dark-300 dark:text-gray-400">
                    {{ $t(command.descriptionKey) }}
                  </p>
                </div>
              </button>
            </div>
          </PopoverPanel>
        </transition>
      </Popover> `),l(` <button
        class="w-14 flex items-center py-2 justify-center text-dark-800 dark:text-gray-100"
        type="button"
        @click="showMoreCommandsBox = true"
      >
        <div
          class="bg-primary w-8 h-8 flex items-center justify-center rounded-full cursor-pointer"
        >
          <Icon name="plus_2" class="w-3 h-3 text-dark-800 dark:text-gray-100" />
        </div>
      </button> `),t("div",me,[St(t("textarea",{class:V(["w-full !outline-none placeholder:text-dark-250 placeholder:dark:text-gray-400 placeholder:text-sm placeholder:truncate text-dark-800 dark:text-gray-100 text-base caret-gray-600 dark:caret-gray-400 resize-none !h-fit text-base rounded-md transition-all duration-150 delay-100",s(ne)>1?"bg-gray-100 dark:bg-gray-800 p-1 -m-1":"bg-inherit"]),rows:s(ne),ref_key:"theTextBox",ref:ft,placeholder:o.$t("Talk.Channel.message_to",{channel:(((F=s(e).activeChannel)==null?void 0:F.type)==="group"||((Q=s(e).activeChannel)==null?void 0:Q.type)==="sub-group"?"#":"@")+(((W=s(e).activeChannel)==null?void 0:W.name)||"")}),"onUpdate:modelValue":a[5]||(a[5]=w=>k.value=w),onKeydown:xt,onCompositionstart:gt,onCompositionend:ht},null,42,ye),[[$t,k.value]])]),(r(),U(de,{to:"body"},[t("input",{type:"file",id:"imageUploader",ref_key:"imageUploader",ref:le,accept:"image/*",onChange:vt,class:"hidden"},null,544)])),l(" \u53F3\u4FA7\u6309\u94AE\u7FA4 "),t("div",fe,[t("div",{class:V([s(I)?"hidden lg:flex":"flex","items-center px-1 mr-2"])},[(((b=s(e).activeChannel)==null?void 0:b.type)==="group"||((Z=s(e).activeChannel)==null?void 0:Z.type)==="sub-group")&&!c.quote?(r(),d("div",{key:0,class:"p-2 w-9 h-9 transition-all lg:hover:animate-wiggle cursor-pointer",onClick:pt},[i(y,{name:"red_envelope",class:"w-full h-full text-dark-800 dark:text-gray-100"})])):l("v-if",!0),i(s(ra),{class:"relative flex items-center"},{default:$(()=>[i(s(aa),{as:"div"},{default:$(()=>[t("div",ge,[i(y,{name:"photo_3",class:"w-full h-full text-dark-800 dark:text-gray-100"})])]),_:1}),i(te,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:$(()=>[i(s(la),{class:"absolute z-10 transform top-[-16PX] right-0 -translate-y-full"},{default:$(({close:w})=>[t("div",he,[t("div",{class:"mx-2 py-4 flex items-center space-x-2 text-dark-800 dark:text-gray-100 rounded-sm lg:cursor-pointer lg:hover:underline cursor-pointer",onClick:oa=>ut(w)},[t("div",ke,[i(y,{name:"photo",class:"w-5 h-5 rounded-full bg-primary p-2 box-content"})]),t("div",be,P(o.$t("Talk.Channel.upload_image")),1)],8,xe),l(` <div
                    class="mx-2 py-4 flex items-center space-x-2 text-dark-800 dark:text-gray-100 rounded-sm lg:cursor-pointer lg:hover:underline cursor-pointer"
                  >
                    <div class=" ">
                      <Icon name="link" class="w-5 h-5 rounded-full bg-primary p-2 box-content" />
                    </div>
                    <div class="">
                      {{ $t('Talk.Channel.use_onchain_image') }}
                    </div>
                  </div> `)])]),_:1})]),_:1})]),_:1}),i(s(ea),{placement:"bottom-start",width:"300px",trigger:"click"},{reference:$(()=>[t("div",we,[i(y,{name:"face_smile",class:V(["w-full h-full text-dark-800 dark:text-gray-100 transition-all ease-in-out duration-300",{"text-primary -rotate-6 scale-110":v.value}])},null,8,["class"])])]),default:$(()=>[i(Nt,{onInput:a[6]||(a[6]=w=>k.value=k.value+w.value)})]),_:1})],2),l(" \u53D1\u9001\u6309\u94AE "),i(te,{"enter-active-class":"transition duration-150 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:$(()=>[s(I)?(r(),d("div",_e,[t("div",{class:"py-2 px-3",onClick:Fe},[l(` <div
              class="transition-all ease-in-out duration-500"
              :class="[
                hasInput ? 'text-primary scale-110 -rotate-6' : 'text-dark-250 dark:text-gray-400',
              ]"
            >
              <Icon name="send" class="w-5 h-5" />
            </div> `),t("div",Ce,[i(y,{name:"send",class:"w-5 h-5"})])])])):l("v-if",!0)]),_:1})])],2)])):(r(),d("div",Ie,P(o.$t("Talk.Input.dont_have_permission")),1)),l(" Apple Style Action Sheet "),(r(),U(de,{to:"body"},[i(te,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:$(()=>[h.value?(r(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-end justify-center bg-black bg-opacity-50 md:items-center",onClick:qe},[i(te,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform translate-y-full opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform translate-y-full opacity-0"},{default:$(()=>[h.value?(r(),d("div",{key:0,class:"w-full max-w-xs sm:max-w-xs md:w-96 bg-white dark:bg-gray-800 rounded-t-xl shadow-xl transform md:rounded-xl",onClick:a[9]||(a[9]=ze(()=>{},["stop"]))},[l(" Options "),t("div",Te,[l(" MVC Red Packet "),t("button",{onClick:a[7]||(a[7]=w=>Ae("mvc")),class:"w-full flex items-center px-4 py-4 justify-center hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200 active:scale-95"},[t("h4",Pe," SPACE "+P(o.$t("Talk.Modals.red_packet")),1)]),l(" BTC Red Packet "),t("button",{onClick:a[8]||(a[8]=w=>Ae("btc")),class:"w-full flex text-center items-center px-4 py-4 justify-center hover:bg-gray-50 dark:hover:bg-gray-700 rounded-t-xl transition-colors duration-200 active:scale-95"},[t("h4",Se," BTC "+P(o.$t("Talk.Modals.red_packet")),1)])]),l(" Cancel Button "),t("div",$e,[t("button",{onClick:qe,class:"w-full py-4 text-center text-gray-600 dark:text-gray-400 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200 active:scale-95"},P(o.$t("cancel")),1)])])):l("v-if",!0)]),_:1})])):l("v-if",!0)]),_:1})]))],64)}}});const Ve=Ue(je,[["__scopeId","data-v-1ee22853"]]),Oe={class:"bg-white flex items-center justify-center dark:bg-gray-700 w-full py-[20px]"},Qe={class:"font-lg text-[#FC4F60]"},We=R({__name:"MuteInput",setup(c){return oe(),(n,g)=>(r(),d("div",Oe,[t("span",Qe,P(n.$t("Mute")),1)]))}}),Xe={class:"h-6"},Ge=R({__name:"TheErrorBox",setup(c){const n=f(!1);return(g,u)=>(r(),d("div",Xe,[t("div",{class:V(["font-medium text-xs pt-0.5 transition-all duration-300 ease-out",[n.value?"text-rose-500":"invisible"]])},[l(" {{ $t('Talk.Errors.' + talkStore.error.type, $t('Talk.Errors.default')) }} ")],2)]))}}),Ye={class:"font-lg text-[#FC4F60]"},He=R({__name:"JoinInput",setup(c){const n=ie(),g=ce(),u=Et();De();const v=oe(),{openConnectionModal:h,closeConnectionModal:M,setMissingWallet:_}=Lt(),p=()=>{n[Ee.isShowChannelAcceptInviteModal]=!1,h()},x=()=>L(this,null,function*(){try{if(!g.isAuthorized)return p();const e=ee();n[Ee.isShowChannelAcceptInviteModal]=!1,n.isShowLoading=!0;const I=yield Vt(e.activeChannelId);if(n.isShowLoading=!1,I.status==="failed"){u.push("/");return}yield Ot(1e3),e.isInitialized||(yield e.init()),e.convertTemporaryToRegular(e.activeChannelId),yield e.syncFromServer()}catch(e){n.isShowLoading=!1,ae.error(`${e.toString()}! ${v.global.t("retry_join")}`)}});return(e,I)=>(r(),d("div",{class:"bg-white flex items-center justify-center dark:bg-gray-700 w-full py-[20px]",onClick:x},[t("span",Ye,P(e.$t("Join")),1)]))}}),Je={class:"h-full pb-17.5 lg:pb-20"},Ne={class:"fixed bottom-0 left-0 right-0 px-4 lg:absolute"},Ze={key:0,class:"fixed bottom-0 left-0 right-0 lg:absolute"},et={key:1,class:"fixed bottom-0 left-0 right-0 lg:absolute"},tt=R({__name:"ChannelContent",setup(c){const n=Qt({val:void 0}),g=Wt({loader:()=>Gt(()=>import("./MessageList.c65838f5.js").then(p=>L(this,null,function*(){return yield p.__tla,p})),["MessageList.c65838f5.js","index.6023e910.js","index.2ad258f4.css","Publish.96ccb39b.js","modals.4c236e75.js","index.244a603e.js","modals.1cd2d636.css","Card.bc476c2b.css","Sticker.d24f5d55.js","Sticker.91d28555.css","Publish.39b080e4.css","popover.b7fbaa30.js","MessageList.ddd1aba1.css"])}),u=f(),v=ee();function h(){u.value.scrollToTimeStamp(n.val.timestamp)}function M(){var p;(p=u.value)==null||p.scrollToMessagesBottom()}const _=S(()=>{var p,x,e;if(((p=v.activeChannel)==null?void 0:p.type)==="sub-group"){const I=v.getCurrentUserRoleInGroup(v.activeChannel.parentGroupId);return I.isAdmin||I.isCreator||I.isWhitelist?"allowed":"forbidden"}else return((x=v.activeChannel)==null?void 0:x.type)==="group"?v.activeChannel.isTemporary?"join":"allowed":(e=v.activeChannel)!=null&&e.publicKeyStr?"allowed":"forbidden"});return Xt("Reply",n),(p,x)=>(r(),d(ue,null,[t("div",Je,[i(s(g),{onQuote:x[0]||(x[0]=e=>n.val=e),ref_key:"MessageListRef",ref:u},null,512)]),t("div",Ne,[s(_)==="allowed"?(r(),U(Ve,{key:0,quote:n.val,"onUpdate:quote":x[1]||(x[1]=e=>n.val=e),onToQuote:h,onScrollToBottom:M},null,8,["quote"])):l("v-if",!0),i(Ge)]),s(_)==="forbidden"?(r(),d("div",Ze,[i(We)])):l("v-if",!0),s(_)==="join"?(r(),d("div",et,[i(He)])):l("v-if",!0)],64))}}),at="/chat/welcome.864ee172.png",lt=c=>(Yt("data-v-8a517503"),c=c(),Ht(),c),rt={key:0},st={key:0,class:"mt-20 px-1 flex text-center items-center justify-center flex-col"},nt={class:""},ot=["src"],it=lt(()=>t("div",{class:"text-2xl welcome-desc text-[#AAAAAA] mt-3 flex items-center justify-center max-w-[326px]"},[t("span",null," A Decentralized Messaging App Built on Bitcoin ")],-1)),ct=R({__name:"ChannelBody",setup(c){ie();const n=ce(),g=De(),u=ee(),{communityId:v,channelId:h}=g.params,M=S(()=>h=="welcome"),_=S(()=>{if(!n.isAuthorized)return!0;if(u.isInitialized){const p=u.activeChannelMessages.length>0;return!u.activeChannel||!p}return!1});return(p,x)=>(r(),d(ue,null,[l(` <ChannelWelcome v-if="talk.isActiveChannelTheVoid" />
  <ChannelSettings v-else-if="talk.isActiveChannelTheVoid" /> `),s(M)?(r(),d("div",rt,[s(_)?(r(),d("div",st,[t("div",nt,[l(' <Icon name="welcome_icon" class="w-[140px] h-[38px]"></Icon> '),t("img",{src:s(at),class:"w-[140px] h-[38px]",alt:""},null,8,ot)]),it])):l("v-if",!0)])):(r(),U(tt,{key:1}))],2112))}});let Me;Me=Ue(ct,[["__scopeId","data-v-8a517503"]]),Le=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}))}));export{Le as C,pe as _,na as __tla};
